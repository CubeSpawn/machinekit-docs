= L'interface graphique AXIS

== Introduction

AXIS(((AXIS))) est une interface utilisateur graphique pour emc2, il
offre un aperçu permanent du parcours de l'outil. Il est écrit en
Python(((Python))), utilise Tk(((Tk))) et OpenGL(((OpenGL))) pour
l'affichage de l'interface graphique.

.Fenêtre d'AXIS[[cap:Fenetre-d-AXIS]]

image::images/axis_2.3_fr.png[]

== Pour commencer

Pour choisir AXIS comme interface graphique d'emc2, éditez le fichier
.ini et dans la section `[DISPLAY]` changez la ligne `DISPLAY` comme
ceci:

    DISPLAY = axis

Puis, lancez emc2 et choisissez le fichier ini. La configuration
simplifiée `sim/axis.ini` est déjà configurée pour utiliser AXIS comme
interface.

Quand vous démarrez AXIS, une fenêtre telle que celle de la figure 
<<cap:Fenetre-d-AXIS>> s'ouvre.

=== Une session typique avec AXIS

 . Lancez emc et sélectionnez un fichier de configuration.
 . Relâchez le bouton d'arrêt d'urgence «A/U»(((A/U))) et mettez la 
   machine en marche.
 . Faites les prises d'origine machine «POM» pour chacun des axes.
 . Chargez un fichier d'usinage.
 . Utilisez l'affichage du parcours d'outil pour vérifier que le
   programme est correct.
 . Bridez le brut à usiner sur la table.
 . Faites les prises d'origine pièce «POP» de chacun des axes avec le jog
   et en utilisant le bouton «Toucher».(((Toucher)))
 . Lancez le programme.
 . Pour usiner le même fichier une nouvelle fois, retournez à l'étape 6.
   Pour usiner un fichier différent, retournez à l'étape 4. Quand vous
   avez fini, quittez AXIS.

== Eléments de la fenêtre d'AXIS

La fenêtre d'AXIS contient les éléments suivants:

 - Un espace d'affichage qui montre une pré-visualisation du fichier
   chargé (dans ce cas, «axis.ngc»), ainsi que la position courante du
   point programmé par la machine CNC(((CNC))). Plus tard, cette zone
   affichera le parcours de l'outil déplacé par la machine CNC, cette zone
   est appelée le parcours d'outil («backplot»)
 - Une barre de menus, une barre d'outils, des curseurs et des onglets
   permettent d'effectuer différentes actions.
 - L'onglet «Contrôle manuel»(((Contrôle manuel))), qui permet de faire 
   des mouvements d'axe, de mettre la broche en rotation ou de l'arrêter,
   de mettre l'arrosage en marche ou de l'arrêter.
 - L'onglet «Données manuelles» (aussi appelé MDI), (((Données manuelles)))
   où les blocs de programme G-code peuvent être entrés à 
   la main, une ligne à la fois. 
 - Les curseurs «Correcteurs de vitesse»(((Correcteurs de vitesse))), 
   qui permettent d'augmenter ou de diminuer la vitesse de la 
   fonction concernée. 
 - Une zone de textes qui affiche le G-code du fichier chargé.
 - Une barre d'état qui affiche l'état de la machine. Dans cette capture
   d'écran, la machine est en marche, aucun outil n'est monté, la position
   affichée est «relative»(((Position: Relative))) à l'origine machine
   (par opposition à une position «absolue»)(((Position: Absolue))) et
   «actuelle»(((Position: Actuelle))) (par opposition à une position
   «commandée»)(((Position: Commandée)))

=== Menu Items

SousSection en cours de rédaction - To Do List

finish menu descriptions

=== Boutons de la barre d'outils

Signification des boutons en la fenêtre d'AXIS, de gauche à droite:

 . image:images/tool_estop.gif[align="center"] «Arrêt d'urgence» (A/U) (en Anglais, E-Stop)(((Arret d'urgence)))

 . image:images/tool_power.gif[] Marche/Arrêt puissance machine(((Marche/Arret)))

 . image:images/tool_open.gif[] Ouvrir un fichier

 . image:images/tool_reload.gif[] Recharger le fichier courant

 . image:images/tool_run.gif[] Départ cycle

 . image:images/tool_step.gif[] Cycle en pas à pas

 . image:images/tool_pause.gif[] Pause/Reprise

 . image:images/tool_stop.gif[] Stopper l'exécution du programme

 . image:images/tool_blockdelete.gif[] Sauter ou non les lignes commençant par «/»

 . image:images/tool_optpause.gif[] Avec ou sans pause optionelle 

 . image:images/tool_zoomin.gif[] Zoom plus

 . image:images/tool_zoomout.gif[] Zoom moins

 . image:images/tool_axis_z.gif[] Vue prédéfinie «Z» (vue de dessus)

 . image:images/tool_axis_z2.gif[] Vue prédéfinie «Z basculée»

 . image:images/tool_axis_x.gif[] Vue prédéfinie «X» (vue de côté)

 . image:images/tool_axis_y.gif[] Vue prédéfinie «Y» (vue de face) 

 . image:images/tool_axis_p.gif[] Vue prédéfinie «P» (vue en perspective)

 . image:images/tool_rotate.gif[align="center"] Orienter la vue avec le bouton gauche de la souris

 . image:images/tool_clear.gif[] Rafraîchir le parcours d'outil


=== Zones d'affichage graphique du programme

==== Affichage des coordonnées

L'affichage des coordonnées est situé en haut à gauche de l'écran graphique. 
Il montre les positions de la machine. 
A gauche du nom de l'axe, un symbole d'origine est visible 
si la prise d'origine de l'axe a été faite. 

image:images/axis-homed.png[align="center"] Symbole prise d'origine

A droite du nom de l'axe, un symbole de limite est visible si l'axe est sur un de ses capteurs de limite.

image:images/axis-limit.png[align="center"] Symbole de limite

Pour interpréter correctement ces valeurs, référez vous à l'indicateur
«Position» de la barre d'état. Si la position est «Absolue», alors les
valeurs affichées sont exprimées en coordonnées machine. Si la position
est «Relative», alors les valeurs affichées sont exprimées en
coordonnées relatives à la pièce. Quand les coordonnées affichées sont
relatives, une marque d'origine de couleur cyan est visible pour
représenter «l'origine machine». 

image:images/axis-machineorigin.png[align="center"] Symbol d'origine de machine

Si la position est «Commandée», alors il s'agit de la position à atteindre 
-- par exemple, les coordonnées passées dans une commande `G0`. 
Si la position est «Actuelle», alors il s'agit de la position à 
laquelle la machine vient de se déplacer. 
Ces valeurs peuvent varier pour certaines raisons: 
erreur de suivi, bande morte, résolution d'encodeur, ou taille de pas. 
Par exemple, si vous demandez un mouvement à X 0.08 à votre fraiseuse, 
mais un pas du moteur fait 0.03, 
alors la position «Commandée» sera de 0.08, 
mais la position «Actuelle» sera de 0.06 (2 pas) ou 0.09 (3 pas).

==== Vue du parcours d'outil
(((Chemin d'outil)))

Quand un fichier est chargé, 
une vue du parcours d'outil qu'il produira est visible dans la zone graphique. 
Les mouvements en vitesse rapide (tels ceux produits par une commande `G0`) 
sont affichés en lignes pointillées vertes. 
Les déplacements en vitesse travail (tels ceux produits par une commande `G1`) 
sont affichés en lignes continues blanches. 
Les arrêts temporisés (tels ceux produits par la commande `G4`) 
sont représentés par une petite marque «X».

G0 (Rapid) se déplace avant un déplacement d'alimentation 
ne sera pas diffusée sur le tracé de prévisualisation. 
Se déplace rapidement après une <n> T (changement d'outil) n'apparaîtra pas 
sur l'aperçu qu'après le déménagement première tétée. 
Pour deactiver une de ces caractéristiques 
hors programme un G1 sans aucun déplace avant le G0 déplace.

==== Etendues du programme
(((Etendues du programme)))

Les «étendues» du programme dans chaque axe sont présentés. 
Aux extrémités, les valeurs des coordonnées au plus et sont indiqués. 
Au milieu, la différence entre les coordonnées sont indiquées.

Quand une coordonnée excède le "soft limits" dans le fichier .ini, 
la dimension pertinente est montré dans une couleur différente et fermé par une boîte.
Dans la figure (<<cap:Soft-Limit>>) la limite maximale souple est dépassée 
sur l'axe X, comme indiqué par la boîte entourant la valeur de coordonnées. 
Le voyage X minimale du programme est -1.95, 
la course maximale est de 1.88 X, 
et le programme nécessite 3.83 pouces de voyage X. 
Pour déplacer le programme il est donc dans les voyages de la machine dans ce cas, 
faire du jogging sur la gauche et Touch Off X à nouveau.

.Soft Limit[[cap:Soft-Limit]]

image::images/axis-outofrange.png[]

==== Le cône d'outil

Si aucun outil n'est chargé, l'emplacement de la pointe de l'outil est
indiqué par le «cône d'outil». 
Le «cône d'outil» ne donne pas d'indication sur la forme, 
la longueur, ou le rayon de l'outil.

Quand un outil est chargé, (par exemple dans le MDI, avec la commande `T1 M6`), 
le cône passe de cônique à cylindrique, il indique alors le diamètre de l'outil 
lu dans le fichier de la table d'outil.

==== Tracé d'outil

Quand la machine se déplace, elle laisse une trace appelée le tracé d'outil. 
La couleur des lignes indique le type de mouvement: 
Jaune pour les jogs, vert clair pour les mouvements en vitesse rapide, 
rouge pour les mouvements en vitesse d'avance programmée, 
et magenta pour les mouvements circulaires en vitesse d'avance programmée.

==== Interaction avec l'affichage

Par un clic gauche sur une portion du parcours d'outil, 
la ligne sous la souris passe en surbrillance 
à la fois dans le graphique et dans le texte. 
Un clic droit dans une zone vide enlève la surbrillance.

En déplaçant la souris avec son bouton gauche appuyé, 
la vue est glissée sur l'écran.

En déplaçant la souris avec le bouton «Maj» enfoncé, 
ou en glissant avec la molette de la souris appuyée, 
la vue est tournée. 
Si une ligne du tracé est en surbrillance, 
elle devient le centre de rotation de la vue. 
Autrement, le centre de rotation est 
le milieu du fichier dans son ensemble.

En tournant la molette de la souris, 
ou en glissant la souris avec son bouton droit enfoncé, 
ou encore en glissant la souris avec son bouton gauche enfoncé et la touche «Ctrl» appuyée, 
le tracé sera zoomé en plus ou en moins.

En cliquant sur une des icônes de vue pré-définie de la barre d'outils, 
ou en pressant la touche «V», cette vue est sélectionnée.

=== Zone texte d'affichage du programme

Un clic gauche sur une ligne du programme passe la ligne en
surbrillance à la fois dans la zone texte et dans la zone graphique.

Quand le programme est lancé, la ligne en cours d'exécution est en
surbrillance rouge. Si aucune ligne n'est sélectionnée par l'utilisateur, 
le texte défile automatiquement pour toujours laisser la ligne courante visible.

.Ligne courante et ligne en surbrillance

image::images/axis-currentandselected_fr.png[]

=== Contrôle manuel
(((Contrôle manuel)))

Quand la machine est en marche mais qu'aucun programme n'est exécuté,
les éléments graphiques de l'onglet «Contrôle manuel» peuvent être utilisés pour 
actionner le centre d'usinage ou mettre en marche et arrêter les différents organes de la machine.

Quand la machine n'est pas en marche, ou quand un programme est en cours d'exécution, 
le contrôle manuel est indisponible.

Certains des éléments décrits plus bas ne sont pas disponibles sur toutes les machines. 
Quand AXIS détecte qu'une «pin» particulière n'est pas connectée dans le fichier HAL, 
l'élément correspondant de l'onglet Contrôle manuel est supprimé. 
Par exemple, si la «pin HAL» `motion.spindle-brake` n'est pas connectée, 
alors le bouton «Frein de broche» n'apparaîtra pas sur l'écran. 
Si la variable d'environnement `AXIS_NO_AUTOCONFIGURE` est mise à 1, 
ce comportement est désactivé et tous les boutons sont visibles. 

==== Le groupe «Axes»

Les cases à cocher du groupe «Axes» permettent de choisir l'axe de la machine à actionner manuellement. 
Cette action s'appelle le «jog».
Premièrement sélectionnez l'axe à actionner en cochant sa case. 
Puis cliquez le bouton «+» ou «-» 
selon le sens de déplacement souhaité. 
Les quatre premiers axes peuvent aussi être déplacés avec 
les touches fléchées pour (X et Y), 
Page précédente et Page suivante pour (Z), 
et les touches [ et ] pour (A).

Si «En continu» est sélectionné, le mouvement continuera 
tant que la touche ou le bouton resteront appuyés. 
Si une autre valeur est sélectionnée, 
la machine se déplacera juste de la distance affichée 
à chaque fois que la touche ou le bouton seront appuyés. 
Par défaut, les valeurs disponibles sont:

[quote]
________________________________________
0.1000 0.0100 0.0010 0.0001
________________________________________


Voir la section Configurer du Manuel de l'intégrateur pour 
plus de informations sur la configuration des incréments.

==== La prise d'origine machine

Si votre machine a la maison commutateurs et une séquence homing 
définis pour tous les axes, le bouton lire "Accueil Tous". 
Le «Home All" ou la touche Ctrl-HOME à domicile tous les axes 
en utilisant la séquence homing. En appuyant sur la touche HOME sera 
la maison de l'axe actuel, même si une séquence homing est définie.

Si votre machine a la maison et commutateurs aucune séquence homing 
est défini ou non tous les axes ont une séquence homing le bouton 
va lire "Home" et la maison de l'axe sélectionné. 
Chaque axe doit être sélectionné et hébergés séparément.

Si votre machine ne dispose pas de contact d'origine défini dans 
la configuration du bouton «Home» sera de définir la position actuelle 
des axes choisis courant à la position 0 absolu pour cet axe, 
et fixera le "est-hébergés" bit pour cet axe.

Voir le manuel Integrator pour plus d'informations sur homing.

==== Toucher

Si le bouton «Toucher» ou la touche FIN sont appuyés, le décalage
d'origine pièce de l'axe actif, sur la figure <<cap:Toucher>>: P1 G54,
prendra la valeur spécifiée dans le champ de la boite de dialogue. Les
expressions peuvent être entrées en suivant les règles de programmation
rs274ngc, sauf les variables qui ne peuvent pas être utilisées. La
valeur résultante sera affichée sous le champ.

.Toucher[[cap:Toucher]]

image::images/touchoff_fr.png[]

Voir aussi l'outil "touch off à la pièce" et "outil déclencher au montage" 
options dans le menu de la machine. 

==== Dépassement de limite

En appuyant sur Dépassement de limite, la machine sera temporairement 
autorisés à courir hors d'un commutateur de limite physique. 
Cette case à cocher n'est disponible que lorsque une fin de course est déclenché. 
La priorité est réinitialisée après un jogging. 
Si l'axe est configuré avec interrupteurs séparés positives et négatives, 
EMC va permettre au jogging uniquement dans le bon sens. 
_Limites Override ne permettra pas un jogging passé une limite souple. 
La seule façon de désactiver une limite souple sur un axe est de Unhome it._

==== Le groupe «Broche»
(((Broche)))

Les boutons de la première rangée permettent de sélectionner la
direction de rotation de la broche: Sens anti-horaire, Arrêt, Sens
horaire. Les boutons de la rangée suivante augmentent ou diminuent la
fréquence de rotation. La case à cocher de la troisième rangée permet
d'engager ou de relâcher le frein de broche. Selon la configuration de
votre machine, ces éléments n'apparaîtront peut être pas tous.

==== Le groupe «Arrosage»
(((Arrosage)))

Ces deux boutons permettent d'activer le «Brouillard» et l'«Arrosage»
ou de les désactiver. Selon la configuration de votre machine, ces
boutons n'apparaîtront peut être pas tous.

=== Données manuelles

L'onglet d'entrée de données manuelles (encore appelé MDI), (((MDI)))
permet d'entrer manuellement et une par une, des lignes de programme en
G-code. Quand la machine n'est pas en marche, ou quand un programme est
en cours d'exécution, cet onglet n'est pas opérationnel.

.L'onglet Données manuelles

image::images/axis-codeentry_fr.png[]

Historique:::
    Affiche les commandes précédemment tapées au cours de cette session.

Commande MDI:::
    Ce champ permet la saisie d'une ligne de commande à exécuter. La
    commande sera exécutée par l'appui de la touche <Entrée> ou un clic du
    bouton <Envoi>.

G-Codes actifs:::
    Ce champ affiche les «codes modaux» actuellement actifs dans
    l'interpréteur. Par exemple, «G54» indique que le décalage d'origine
    «G54» sera appliqué à toutes les coordonnées qui seront entrées.

=== Correcteurs de vitesse
(((Correcteurs de vitesse)))

En déplaçant le curseur, la vitesse de déplacement programmée peut
être modifiée. Par exemple, si un programme requiert une vitesse à
`F60` et que le curseur est placé sur 120%, alors la vitesse
résultante sera de 72.

=== Correcteur de vitesse de broche
(((Correcteur de vitesse broche)))

En déplaçant ce curseur, la vitesse programmée de la broche peut être
modifiée. Par exemple, si un programme requiert une vitesse à F8000 et
que le curseur est placé sur 80%, alors la fréquence de rotation
résultante sera de 6400. Cet élément n'apparaît que si la «HAL pin»
`motion.spindle-speed-out` est connectée dans .ini.

=== Vitesse de Jog
(((Vitesse de jog))) 

En déplaçant ce curseur, la vitesse de jog peut être modifiée. Par
exemple, si ce curseur est placé sur 100 mm/mn, alors un jog de 1 mm
durera .6 secondes, ou 1/100 de minute. Du côté gauche du curseur (jog
lent) l'espacement des valeurs est petit alors que du côté droit (jog
rapide) l'espacement des valeurs est plus grand, cela permet une large
étendue de vitesses de jog avec un contrôle plus fin du curseur dans
les zones les plus importantes.

Sur les machines avec axes rotatifs, un second curseur de vitesse est
présent. Il permet d'ajuster la vitesse de rotation des axes rotatifs
(A, B et C).

=== Vitesse Maxi
(((Vitesse maxi)))

En déplaçant ce curseur, la vitesse maximale peut être réglée. 
Cette coiffe la vitesse maximale pour tous les mouvements programmés, 
sauf broche synchronisée se déplace. 

== Raccourcis clavier

La plupart des actions d'AXIS sont accessibles depuis le clavier. La
liste complète des raccourcis clavier est disponible dans l'aide rapide
d'AXIS qui s'affiche en cliquant sur Aide > Aide rapide . Beaucoup de
ces raccourcis sont inaccessible en mode Entrées
manuelles.

Touches de remplacement. RSS

Les touches de remplacement RSS se comportent différemment quand en mode manuel. 
Les touches `12345678 choisira un axe, si elle est programmée. 
Si vous avez 3 axes, puis «`» sélectionnera l'axe 0, 1 sélectionnera l'axe 1, 
et 2 sera de sélectionner l'axe 2. 
Le reste des touches numériques seront toujours mis l'Override le vitesse d'travail. 
Lors de l'exécution d'un programme `1234567890 fixera la Override le vitesse d'travail à 0% - 100%.

Les raccourcis clavier les plus fréquents sont visibles dans la table 
<<cap:Raccourcis-clavier-usuels>>.

.Raccourcis clavier usuels[[cap:Raccourcis-clavier-usuels]]

[width="90%", options="header"]
|====================================================================
|Touches          | Actions produites                           | Mode
|F1               | Bascule l'arrêt d'urgence                   | All
|F2               | Bascule le marche/arrêt machine             | All
|`, 1 .. 9, 0     | Correcteurs de vitesse de 0% à 100%         | Varies
|X, `             | Active le premier axe                       | Manual
|Y, 1             | Active le deuxième axe                      | Manual
|Z, 2             | Active le troisième axe                     | Manual
|A, 3             | Active le quatrième axe                     | Manual
|I                | Sélection d'incrément du jog                | Manual
|C                | jog en mode continu                         | Manual
|Ctrl+origine     | Lance une séquence de POM                   | Manual
|Fin              | Toucher: valide l'offset G54 de l'axe actif | Manual
|Gauche, Droite   | Jog du premier axe                          | Manual
|Up, Down         | Jog du deuxième axe                         | Manual
|Pg Up, Pg Dn     | Jog du troisième axe                        | Manual
|[, ]             | Jog du quatrième axe                        | Manual
|O                | Ouvrir un fichier                           | Manual
|Ctrl+R           | Recharger le fichier courant                | Manual
|R                | Exécuter le programme                       | Manual
|P                | Pause dans l'exécution du programme         | Auto
|S                | Reprise de l'exécution du programme         | Auto
|ESC              | Stopper l'exécution                         | Auto
|Ctrl+K           | Raffraîchi le tracé d'outil                 | Auto/Manual
|V                | Défilement cyclique des vues prédéfinies    | Auto/Manual
|Shift-Left,Right | Rapid X Axis                                | Manual
|Shift-Up,Down    | Rapid Y Axis                                | Manual
|Shift-PgUp, PgDn | Rapid Z Axis                                | Manual
|====================================================================

== Affichage de l'état d'EMC (emctop)

AXIS inclut un programme appelé «emctop» qui affiche en détail l'état
d'emc. Ce programme est accessible dans le menu Machine > Fenêtre
d'état d'emc2

.Fenêtre d'état d'EMC

image::axis-emctop.png[]

Le nom de chaque entrée est affiché dans la colonne de gauche. La
valeur courante de chaque entrée s'affiche dans la colonne de droite.
Si la valeur a changé récemment, elle s'affiche en surbrillance rouge.

== Entrée de données en texte (MDI)

AXIS inclut un programme appelé 'mdi', il permet d'envoyer des
commandes à la session d'EMC2 en cours, sous forme de lignes de texte.
Vous pouvez lancer ce programme en ouvrant une console et en tapant:

    mdi /path/to/emc.nml

En cours d'exécution il affiche le prompt: `MDI>`. Quand une ligne 
vide est entrée, la position courante de la machine est affichée. 
Quand une commande est entrée, elle est passée à emc qui l'exécute. 

C'est un exemple de session de MDI.

     $ MDI ~/emc2/configs/sim/emc.nml
     MDI>
     (0.0, 0.0, 0.0, 0.0, 0.0, 0.0)
     MDI> G1 F5 X1
     MDI>
     (0.5928500000000374, 0.0, 0.0, 0.0, 0.0, 0.0)
     MDI>
     (1.0000000000000639, 0.0, 0.0, 0.0, 0.0, 0.0)

== axis-remote: Commande à distance de l'interface graphique d'AXIS

AXIS inclut un programme appelé «axis-remote» qui permet d'envoyer
certaines commandes vers l'application AXIS fonctionnant à distance.
Les commandes disponibles sont visibles en faisant: `axis-remote
--help` pour vérifier qu'AXIS est en marche, inclure: (`--ping`),
charger un fichier, recharger le fichier courant avec: (`--reload`) et
quitter le programme AXIS avec: (`--quit`).

== hal_manualtoolchange: Dialogue de Changement D'Outil Manuel[[sec:Changement-D-Outil-Manuel]]
(((Changement D'Outil Manuel)))

EMC2 inclut un composant userspace HAL de appelé «hal_manualtoolchange», 
il ouvre une fenêtre d'appel d'outil (Figure <<cap:Changement-manuel-d-outil>>)
quand la commande `M6` est invoquée. Dés que le bouton Continuer est
pressé, l'exécution du programme reprend.

Le fichier de configuration HAL `configs/sim/axis_manualtoolchange.hal` 
montre les commandes HAL nécessaires pour l'utilisation de ce composant. 

hal_manualtoolchange peut être utilisé même si l'interface graphique
AXIS n'est pas en service. Cette composante est particulièrement 
utile si vous avez des outils de préréglage
vous utilisez la table d'outils.

[NOTE]
Remarque importante: Rapids ne montrera pas sur l'aperçu après 
une T<n> est donné jusqu'à la prochaine tétée passer après le M6. 
Cela peut être très déroutant pour la plupart des utilisateurs. 
Pour désactiver cette fonctionnalité pour le programme de 
changement d'outil en cours un G1 sans bouger après la T<n>. 

.La fenêtre de changement manuel d'outil[[cap:Changement-manuel-d-outil]]

image::images/manualtoolchange_fr.png[]

== Modules en Python 

AXIS(((AXIS))) inclut plusieurs modules en Python(((Python))) qui
peuvent être très utiles. Pour des informations complètes sur ces
modules, faites: «`pydoc <nom du module`» ou lisez son code source.
Modules inclus:

 - `emc` fournit l'accès aux commandes d'emc, à son état et aux chaînes d'erreur
 - `gcode` fournit l'accès à l'interpréteur RS274NGC
 - `rs274` fournit des outils supplémentaires pour travailler sur les fichiers RS274NGC
 - `hal` permet la création par l'utilisateur de composants de HAL écrits en Python
 - `_togl` fournit des éléments OpenGL utilisables dans les applications Tkinter
 - `minigl` fournit l'accès aux sous-ensembles d'OpenGL utilisés par AXIS

Pour utiliser ces modules dans vos propres scripts, assurez-vous que
le répertoire où ils se trouvent est dans le chemin d'accès des modules
Python. Avec une version installée d'EMC2, ça se fera automatiquement.
Avec une version installée en «in-place», ça peut être fait avec l'aide
de: `scripts/emc-environment`.

== Utiliser AXIS en mode tour
(((AXIS avec un tour)))

En incluant la ligne

    LATHE = 1

dans la section [DISPLAY] du fichier ini, l'AXIS sélectionne le mode tour. l'
Axe «Y» n'est pas indiqué dans lectures de coordonnées, la vue est changé pour
montrent l'axe Z s'étend à la droite et l'axe X s'étendant vers
le bas de l'écran, et plusieurs contrôles (tels que ceux pour
vues prédéfinies) seront supprimés. Les lectures de coordonnées pour X sont remplacés
avec un diamètre et un rayon.

La touche «V» agit alors sur le zoom pour afficher le tracé complet du
fichier chargé.

En mode tour (lathe), la forme de l'outil chargé est visible.

.Forme d'outil visible en mode tour

image::axis-lathe-tool.png[]

== Configuration avancée d'AXIS

Pour plus d'informations sur les paramètres du fichier INI qui 
peut changer la façon dont AXIS fonctionne voir le fichier 
INI / sections / [DISPLAY] Section de configuration
chapitre dans le manuel d'intégrateur.

=== Filtres de programme

AXIS a la capacité d'envoyer des fichiers chargés à travers un 
«filtre de programme». Ce filtre peut faire diverses tâches: 
Simple, comme s'assurer que le programme se termine bien par un: 
'`M2`' ou complexe, comme détecter que l'entrée est une image et 
générer le g-code qui permettra d'usiner sa forme.

La section `[FILTER]` du fichier ini défini comment les filtres
doivent agir. Premièrement, 
pour chaque type de fichier, écrire une ligne: `PROGRAM_EXTENSION` 
puis, spécifier le programme à exécuter pour chaque type de fichier.
Ce programme reçoit comme argument le nom du fichier d'entrée, il doit
produire le code selon le standard rs274ngc, en sortie. Les lignes de
cette sortie s'affichent alors dans la zone texte, le parcours d'outil
résultant est visible dans la zone graphique, enfin il sera exécuté
quand emc recevra la commande «Exécuter le programme». Les lignes
suivantes fournissent la possibilité d'utiliser «image-to-gcode», le
convertisseur d'images fourni avec EMC2:

    [FILTER]
    PROGRAM_EXTENSION = .png,.gif Greyscale Depth Image
    png = image-to-gcode
    gif = image-to-gcode

Il est également possible de spécifier un interpréteur:

    PROGRAM_EXTENSION = .py Python Script
    py = python

De cette manière, n'importe quel script Python pourra être ouvert et
sa sortie traitée comme du g-code. Un autre exemple est disponible
dans: `nc_files/holecircle.py` . Ce script crée le g-code pour percer
une série de trous suivant un arc de cercle.

.Perçages circulaires 

image::holes.png[]

Si la variable d'environnement: AXIS_PROGRESS_BAR est active, alors
les lignes seront écrites sur stderr de la forme:

    FILTER_PROGRESS=%d

AXIS fixera la barre de progression selon le pourcentage donné. Cette
fonction devrait être utilisée pour un filtre qui fonctionne
suffisamment longtemps.

=== La base de données des ressources X

Les couleurs de la plupart des éléments de l'interface utilisateur
d'AXIS peuvent être personnalisées grâce à la base de données X. Le
fichier: `axis_light_background` modifie les couleurs de la fenêtre du
parcours d'outil sur le modèle
«lignes noires et fond blanc», il sert aussi de référence des éléments
configurables dans l'écran graphique. 
L'exemple de fichier `axis_big_dro` évolution de la position de lecture 
à une police plus grande taille. Pour utiliser ces fichiers:

    xrdb -merge /usr/share/doc/emc2/axis_light_background

    xrdb -merge /usr/share/doc/emc2/axis_big_dro

Pour plus d'informations au sujet des éléments configurables dans les
applications Tk, référez vous aux manuels de Tk.

Les bureaux graphiques modernes effectuent certains réglages dans la
base de données des ressources X ces réglages peuvent affecter ceux
d'AXIS, par défaut ces réglages sont ignorés. Pour que les éléments des
ressources X écrasent ceux par défaut dans AXIS, il faut inclure cette
ligne dans vos ressources X:

///////////////////////////////////////////////////////////
L'astérisques non pour éviter "gras",
///////////////////////////////////////////////////////////
    *Axis*optionLevel: widgetDefault
///////////////////////////////////////////////////////////
dans ce cas, nous voulons que les astérisques pour effectivement apparaître.
///////////////////////////////////////////////////////////

ce qui entraînera la construction des options au niveau
«widgetDefault», de sorte que les ressources X (qui sont elles, au
niveau «userDefault») puissent l'emporter.

=== Manivelle de jog[[sub:Manivelle de jog]]

Pour accroître l'interaction d'AXIS avec une manivelle de jog
physique, l'axe actif courant sélectionné dans l'interface graphique
est aussi reporté sur une «pin HAL» avec un nom comme `axisui.jog.x` .
Excepté pendant un court instant après que l'axe courant ait changé,
une seule de ces pins à la fois est `TRUE`, les autres restent `FALSE`.

Après qu'AXIS ait créé ces «HAL pins», il exécute le fichier hal 
déclaré avec: `[HAL]POSTGUI_HALFILE`. Ce qui diffère de `[HAL]HALFILE,`
qui lui ne s'utilise qu'une seule fois.

=== ~/.axisrc
(((.axisrc)))

Si il existe, le contenu de: `~/.axisrc` est exécuté comme un code
source Python juste avant l'ouverture de
l'interface graphique d'AXIS. Les détails de ce qui peut être écrit
dans .axisrc sont sujets à changement durant le cycle de développement.

Les lignes visibles sur la figure <<cap:Exemple-de-fichier-axisrc>>
ajoutent un Ctrl+Q comme raccourci clavier pour Quitter et activer
l'option “Distance restante” par défaut.

.Exemple de fichier .axisrc[[cap:Exemple-de-fichier-axisrc]]

    root_window.bind("<Control-q>", "destroy .")
    help2.append(("Control-Q", "Quit"))

=== Editeur externe
(((Editeur externe)))

En définissant: `[DISPLAY]EDITOR` , les options de menu: Fichier >
Editer ainsi que Fichier > Editer la
 table d'outils, deviennent accessibles. Deux valeurs qui marchent
bien:`EDITOR=gedit` et `EDITOR=gnome-terminal -e vim`.

=== Panneau de contrôle virtuel
(((panneau de commande virtuel)))

AXIS peut afficher un panneau de commande virtuel personnalisé dans la droite
volet. Vous pouvez boutons de programme, des indicateurs, affiche les données et plus encore. pour
plus d'informations, consultez le manuel de l'intégrateur.

=== Commentaires spéciale
(((Commentaires spéciale)))

Commentaires spéciaux peuvent être insérés dans le fichier de code G pour contrôler la façon dont
l'aperçu du comportement AXIS. Dans le cas où vous souhaitez limiter la
dessin de l'utilisation aperçu de ces observations spéciales. Rien entre les
(AXIS,hide) et (AXIS,show) ne sera pas établi lors de la prévisualisation. l'
(AXIS,hide) et (AXIS,show) doivent être utilisées en paires avec le (AXIS, cacher)
être le premier. Tout ce après une (AXIS,stop) ne seront pas tirées au cours des
aperçu.

Ces commentaires sont utiles pour désencombrer l'affichage d'aperçu (pour les
Par exemple pendant le débogage plus un g-code du fichier, on peut désactiver le
aperçu sur certaines parties qui travaillent déjà sur OK).

  - (AXIS,hide) Arrête la prévisualisation (il faut en premier)
  - (AXIS,show) Reprend l'aperçu (il faut suivre un cache)
  - (AXIS,stop) Arrête la preview d'ici à la fin du fichier.


