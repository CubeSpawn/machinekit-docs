Upgrading EMC2
==============

== Upgrading from 2.4.x to 2.5.x

Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
Donec nulla magna, consequat dignissim cursus a, auctor a leo. 
Mauris sed nibh eu risus dapibus ultrices nec sed neque. 
Cras leo velit, cursus quis tincidunt eu, semper at dui. 
Ut lobortis elit vel risus iaculis laoreet. Integer facilisis, 
diam ac laoreet aliquet, mi turpis imperdiet risus, ut 
dignissim nulla purus a risus. Aliquam cursus accumsan feugiat. 
Praesent felis felis, iaculis et bibendum hendrerit, ultrices 
at nisl. Etiam et pretium augue. Vestibulum id metus ac sapien 
fringilla cursus. Cum sociis natoque penatibus et magnis dis 
parturient montes, nascetur ridiculus mus. Ut mollis nulla ac 
urna luctus at pulvinar nibh mollis. Mauris eget est tellus. 
Sed sapien mauris, condimentum non rutrum nec, ullamcorper 
vel enim.

== Changes between 2.4.x and 2.5.x

Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
Donec nulla magna, consequat dignissim cursus a, auctor a leo. 
Mauris sed nibh eu risus dapibus ultrices nec sed neque. 
Cras leo velit, cursus quis tincidunt eu, semper at dui. 
Ut lobortis elit vel risus iaculis laoreet. Integer facilisis, 
diam ac laoreet aliquet, mi turpis imperdiet risus, ut 
dignissim nulla purus a risus. Aliquam cursus accumsan feugiat. 
Praesent felis felis, iaculis et bibendum hendrerit, ultrices 
at nisl. Etiam et pretium augue. Vestibulum id metus ac sapien 
fringilla cursus. Cum sociis natoque penatibus et magnis dis 
parturient montes, nascetur ridiculus mus. Ut mollis nulla ac 
urna luctus at pulvinar nibh mollis. Mauris eget est tellus. 
Sed sapien mauris, condimentum non rutrum nec, ullamcorper 
vel enim.

=== Details on thing 1 changes (2.4.x to 2.5.x)

Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
Donec nulla magna, consequat dignissim cursus a, auctor a leo. 
Mauris sed nibh eu risus dapibus ultrices nec sed neque. 
Cras leo velit, cursus quis tincidunt eu, semper at dui. 

=== Details on thing 2 changes (2.4.x to 2.5.x)

Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
Donec nulla magna, consequat dignissim cursus a, auctor a leo. 
Mauris sed nibh eu risus dapibus ultrices nec sed neque. 
Cras leo velit, cursus quis tincidunt eu, semper at dui. 

== Upgrading from 2.3.x to 2.4.x

The following instructions only apply to Ubuntu 8.04 "Hardy 
Heron". EMC 2.4 is not available for older releases of Ubuntu.

Because there are several minor incompatibilities between 2.3.5 
and 2.4.x, your existing install will not automatically be 
updated to 2.4.x. If you want to run 2.4.x, change to the EMC-2.4 
repository by following these instructions:

run System/Administration/Synaptic Package Manager

go to Settings/Repositories

In the list of Third-Party software there should be at least two 
lines for linuxcnc.org.

For each of them:

 - Select the line and click Edit

 - on the Components line, change emc2.3 to emc2.4

 - Click OK 

 - Close the "Software Preferences" window

 - Click "Reload" as instructed

 - Click "Mark All Upgrades"
   
.Mesa card and hostmot2 users:
**********
If you use a mesa card, find the proper hostmot2-firmware package 
for your card and mark it for installation. Hint: do a search for 
"hostmot2-firmware in the synaptic package manager.
**********

 - Click "Apply" 

== Changes between 2.3.x and 2.4.x

Once you have done the upgrade, update any custom configurations 
by following these instructions:

=== emc.nml changes (2.3.x to 2.4.x)

For configurations that have not customized emc.nml, remove or 
comment out the 
inifile line NML_FILE = emc.nml. This will cause the most up to 
date version of emc.nml to be used.

For configurations that have customized emc.nml, a change similar 
to this one is required.

Failure to do this can cause an error like this one: 
---------------------------------- 
libnml/buffer/physmem.cc 143: PHYSMEM_HANDLE: 
Can't write 10748 bytes at offset 60 from buffer of size 10208.
----------------------------------

=== tool table changes (2.3.x to 2.4.x) 

The format of the tool table has been changed incompatibly. The 
documentation shows the new format. The tool table will 
automatically be converted to the new format.

=== hostmot2 firmware images (2.3.x to 2.4.x)

The hostmot2 firmware images are now a separate package. You can:

 - Continue using an already-installed `emc2-firmware-mesa-*` 2.3.x 
   package

 - Install the new packages from the synaptic package manager. The 
   new packages are named `hostmot2-firmware-*`

 - Download the firmware images as tar files from 
   http://emergent.unpy.net/01267622561 and install them manually 

